# Задание
Нужно логировать все изменения пользователей (name, email, role),

Хранить аудит изменений в отдельной таблице,

Раз в день экспортировать только свежие изменения в CSV,

Автоматизировать экспорт с помощью pg_cron. Обратите внимание на то, что его нужно будет только установить (CREATE EXTENSION IF NOT EXISTS), так как мы подготовили docker образ уже с ним!

Схемы таблиц: 
```
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name TEXT,
    email TEXT,
    role TEXT,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE users_audit (
    id SERIAL PRIMARY KEY,
    user_id INTEGER,
    changed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    changed_by TEXT,
    field_changed TEXT,
    old_value TEXT,
    new_value TEXT
);

```

## Техническое задание.

1. Создайте функцию логирования изменений по трем полям.

2. Создайте trigger на таблицу users.

3. Установите расширение pg_cron.

4. Создайте функцию, которая будет доставать только свежие данные (за сегодняшний день) и будет сохранять их в образе Docker по пути /tmp/users_audit_export_, а далее указываете ту дату, за который этот csv был создан.

5. Установите планировщик pg_cron на 3:00 ночи.

По итогу в Docker контейнере после ввода вот таких команд должен лежать файл с изменениями.

*Критерии сдачи задания:*

- Крон настроен и его видно в cron.job
- Файл сохраняется в docker
- Создана функция логирования изменений и к ней прикручен триггер
- Корректно оформлен репозиторий. Должен лежать только 1 SQL скрипт-полотно со - всеми вашими командами.